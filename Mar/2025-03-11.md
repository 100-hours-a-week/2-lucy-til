
#### 날짜: 2025-03-11

## 스크럼

학습 목표 1 : IoC, DI, AOP 개념과 실제 구현 방식 정리하기  
학습 목표 2 : ORM, JPA 개념 및 실무 활용 시 주의점 정리하기

---

### 주제 1: IoC와 DI

- **IoC(Inversion of Control)**: 객체에 대한 제어 흐름이 개발자에서 프레임워크로 역전되는 개념
  - 프레임워크 자체도 IoC 개념의 예시 (개발자가 작성한 코드를 프레임워크가 실행)
- **DI(Dependency Injection)**: IoC를 구체적으로 구현한 방식
  - 생성자 주입(권장): 단일 책임 원칙 준수, 순환 참조 방지
  - 세터 주입, 필드 주입도 존재하나 테스트 및 유지보수에서 단점 있음
- **IoC 컨테이너의 구현체**
  - `BeanFactory`: lazy loading
  - `ApplicationContext`: pre loading, 일반적으로 더 많이 사용

---

### 주제 2: AOP(Aspect Oriented Programming)

| 개념 | 정의 | 설명 |
| --- | --- | --- |
| AOP | 관점 지향 프로그래밍 | 핵심 로직과 공통 기능(로깅, 보안 등)을 분리하여 모듈화 |
| Aspect | 횡단 관심사를 모듈화한 단위 | 독립적으로 재사용 가능 |
| Advice | 실제 수행할 기능 | 실행 시점에 따라 Before, After, Around 등으로 구분 |
| Pointcut | Advice가 적용될 지점 표현식 | 메서드 실행 지점 등 |
| Join Point | Advice가 적용 가능한 지점 | 스프링 AOP는 주로 메서드 실행 |
| Weaving | Aspect를 실제 코드에 적용하는 과정 | 주로 런타임 프록시(JDK 동적 프록시, CGLIB) 방식 |

> AOP는 비침투적으로 핵심 로직을 수정하지 않고 공통 기능을 적용할 수 있으며, 객체지향 설계를 보완하는 개념이다. 하지만 남발 시 복잡성이 증가할 수 있으므로 신중하게 사용해야 한다.

---

### 주제 3: ORM(Object Relational Mapping)

- 객체와 관계형 DB 간의 데이터를 자동으로 매핑해주는 기술
- 객체지향적 개발을 가능하게 하고, SQL 의존도를 낮추며 생산성을 높임
- DB 추상화를 통해 특정 벤더에 종속되지 않고 JPA 등 인터페이스를 통해 유연하게 설계 가능
- 주요 패턴
  - Active Record: 엔티티가 데이터 접근 로직 포함
  - Data Mapper: 데이터 접근 로직을 별도로 분리

> ORM을 올바르게 사용하면 유지보수성과 생산성이 크게 향상되지만, 내부 동작에 대한 이해 없이 무작정 사용하면 성능 이슈가 발생할 수 있다 (ex. N+1 문제)

---

### 주제 4: JPA(Java Persistence API)

| 항목 | 설명 |
| --- | --- |
| 정의 | 자바 ORM 기술에 대한 인터페이스(명세) |
| 구현체 | Hibernate 등이 있음 |
| 장점 | SQL 대신 JPQL 사용, DB 벤더 의존도 낮춤, 객체 모델 중심 설계 가능 |
| 주의점 | 프록시 사용으로 인해 final/finalize 지양, 연관관계 설계 시 무한 루프 주의, 엔티티 설계 시 식별자 전략 필요 |

#### ddl-auto 옵션 정리

- `none`: 운영 환경 권장
- `create`: 실행 시 스키마 초기화 후 생성
- `create-drop`: 종료 시 스키마 삭제
- `update`: 변경된 엔티티 정보만 반영
- `validate`: 스키마와 매핑 정보 일치 여부만 검증

#### N+1 문제

- 연관관계가 있는 엔티티를 조회할 때 SELECT 쿼리가 다수 발생
- 해결 방법:
  1. 패치 조인
  2. `@BatchSize`
  3. EntityGraph

---

### 오늘의 회고
프로젝트를 챙기면서 동시에 개념을 정비하기는 어려운 것 같다.  
하나에 몰두하는 만큼 또 다른 것은 챙기지 못하는 나의 모습을 보면서 미키 17 세계관이 필요하다는 생각이 들었다.  
더불어 내용도 내용인만큼 프로젝트가 안정에 접어들면 스터디든 독학이든 다시 한번 지식의 공백을 채워야 할 것 같다.  
그래도 잘 하고 있다.  
힘들다고 외면하지만 않으면 어디든 닿는다.  
